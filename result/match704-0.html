<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>n_331_2.c</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>n_331_2.c</CENTER></H3><HR>
<PRE>
#include&lt;stdio.h&gt;
#define max(a,b) ((a&gt;b)?(a):(b))

long long ways[1000006];

int main() {
	int a;
		int b;
		int c;
		int d;
	scanf(&quot;%d%d%d%d&quot;, &amp;a, &amp;b, &amp;c, &amp;d);
<A NAME="0"></A>	int tx = b - a;
	int ty = c - b;
	int lz = c - a - b;
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match704-1.html#0',3,'match704-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>	int rz = d - a - b;
	long long ans = 0;
	for( int z=0; z&lt;=rz; ++z ) {
		int l=0, r=z;
		if( r &gt; tx )
			r = tx;
		// ( z - r, z - l )
		if( z - l &gt; ty )
			l = z - ty;
		ways[z] = max(0, r - l + 1);
		if( z &gt; 0 )
			ways[z] += ways[z-1];
	}
	for( int z = max(0,lz); z&lt;=rz; ++z ) {
		ans += ways[z];
	}
	printf(&quot;%lld\n&quot;, (((1ll*(b-a+1))*(c-b+1))*(d-c+1)) - ans);
}</B></FONT>
</PRE>
</BODY>
</HTML>

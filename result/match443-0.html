<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>a96_2.c</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>a96_2.c</CENTER></H3><HR>
<PRE>
//program to implement quadratic probing
// if collision compute
// index=(hash(keyx)+i*i)%size for i=1,2,...tablesize
// hash(keyx)=keyx%size;
<A NAME="0"></A>#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;
#include&lt;string.h&gt;
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match443-1.html#0',3,'match443-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>struct element
{
   int keyx;
   char nm[100];
   int mark;
};
void display(struct element *, int);
void insert_to_hash(struct element*, int,int, char*);
void delete_from_hash(struct element *,int ,int );
 
<A NAME="1"></A>int main()
{
  struct element *htable;</B></FONT>
<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match443-1.html#1',3,'match443-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>  int i,n,ch,keyx,no_elements;
  char nm[100];
  int tablez;
  printf(&quot;Enter the table size..&quot;);
  scanf(&quot;%d&quot;,&amp;tablez);
  //create hash table
  htable=(struct element*)malloc(tablez* sizeof(struct element));
   for(i=0;i&lt;tablez;i++)
     htable[i].mark=0;
   no_elements=0;
  
  while(1)
  {
    printf(&quot;\n1. Insert..&quot;);
    printf(&quot;\n2. Delete..&quot;);
    printf(&quot;\n3. Search..&quot;);
    printf(&quot;\n4. Display..&quot;);
    scanf(&quot;%d&quot;,&amp;ch);
    switch(ch)
    {
      case 1: printf(&quot;Enter keyx..\n&quot;);</B></FONT>
              scanf(&quot;%d&quot;,&amp;keyx);
<A NAME="2"></A>              printf(&quot;Enter nm..\n&quot;);
              scanf(&quot;%s&quot;,nm);
              insert_to_hash(htable,tablez,keyx,nm);
<FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match443-1.html#2',3,'match443-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>              break;
       case 2: printf(&quot;Enter the keyx for deletion..\n&quot;);
               scanf(&quot;%d&quot;,&amp;keyx);
               delete_from_hash(htable,tablez,keyx);
               break;
       /*case 3: printf(&quot;Enter the keyx to search..\n&quot;);
               scanf(&quot;%d&quot;,&amp;keyx);
               search_in_hash(htable,tablez,keyx);
               break;*/
        case 4:display(htable,tablez);
    }
  }
 
}
 void delete_from_hash(struct element *ht,int size,int keyx )
  {
    int i,index,h;
    
    index=keyx %size;
<A NAME="3"></A>     i=index;
     h=1;</B></FONT>
     
<FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match443-1.html#3',3,'match443-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>     for(h=1;h&lt;=size;h++)
     {
         if(ht[i].keyx==keyx)
        {
         printf(&quot;\nkey found..and deleted\n&quot;);
         ht[i].mark=0;
         return;
        }
       i=(index+h*h)%size;
      }
      printf(&quot;keyx not found\n&quot;);
    }
  void display(struct element *ht, int size)
  {
    int i;
    for(i=0;i&lt;size;i++)
    {
      printf(&quot;%d :&quot;, i);
      if (ht[i].mark!=0)
         printf(&quot;Key = %d, nm = %s&quot;,ht[i].keyx,ht[i].nm);
      printf(&quot;\n&quot;);
    }
  }  
   void insert_to_hash(struct element*ht, int size,int keyx, char *nm )
   {
     int index,i,h;
     index=keyx %size;
     i=index;</B></FONT>
     //h=1;
     
     for(h=1;h&lt;=size;h++)
     {
        if(ht[i].mark==0)
        {
         ht[i].keyx=keyx;
         strcpy(ht[i].nm,nm);
         ht[i].mark=1;
         return;
         }
       i=(index+h*h)%size;
      }
      printf(&quot;cannot insert..\n&quot;);
      return;
  }
</PRE>
</BODY>
</HTML>

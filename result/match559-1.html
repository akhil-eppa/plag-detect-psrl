<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>n_328_1.c</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>n_328_1.c</CENTER></H3><HR>
<PRE>
<A NAME="0"></A>#include&lt;stdio.h&gt;
#define max(a,b) ((a&gt;b)?(a):(b))

<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match559-0.html#0',2,'match559-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>long long ways[1000006];

int main() {
	int a,b,c,d;
	scanf(&quot;%d%d%d%d&quot;, &amp;a, &amp;b, &amp;c, &amp;d);
	int tx = b - a, ty = c - b, lz = c - a - b, rz = d - a - b;
	long long ans = 0;
	for( int z=0; z&lt;=rz; ++z ) {
		int l=0, r=z;
		if( r &gt; tx )
			r = tx;
		// ( z - r, z - l )
		if( z - l &gt; ty )
			l = z - ty;
		ways[z] = max(0, r - l + 1);
		if( z &gt; 0 )
			ways[z] += ways[z-1];
	}
	for( int z = max(0,lz); z&lt;=rz; ++z ) {
		ans += ways[z];
	}
	printf(&quot;%lld\n&quot;, (((1ll*(b-a+1))*(c-b+1))*(d-c+1)) - ans);
}</B></FONT>
</PRE>
</BODY>
</HTML>
